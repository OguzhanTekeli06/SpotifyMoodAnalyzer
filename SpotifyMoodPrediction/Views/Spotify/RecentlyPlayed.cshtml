@{
    ViewBag.Title = "Recently Played Songs";
    var songs = ViewBag.RecentlyPlayed as List<dynamic>;
}

<h2>Recently Played Songs</h2>

@if (songs != null && songs.Count > 0)
{
    <ul>
        @foreach (var song in songs)
        {
            <li>
                <strong>@song.Name</strong> - @song.Artist
                <ul>
                    <li><strong>Danceability:</strong> @(song.AudioFeatures?.Danceability ?? 0)</li>
                    <li><strong>Energy:</strong> @(song.AudioFeatures?.Energy ?? 0)</li>
                    <li><strong>Tempo:</strong> @(song.AudioFeatures?.Tempo ?? 0) BPM</li>
                    <li><strong>Loudness:</strong> @(song.AudioFeatures?.Loudness ?? 0) dB</li>
                    <li><strong>Valence:</strong> @(song.AudioFeatures?.Valence ?? 0)</li>
                </ul>
            </li>
        }
    </ul>
}
else
{
    <p>No recently played songs found.</p>
}
